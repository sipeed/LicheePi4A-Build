From a9d6359676f7203784dd99f163a7ad2406da3a48 Mon Sep 17 00:00:00 2001
From: Lu Hui <luhui@sipeed.com>
Date: Mon, 13 Nov 2023 18:10:37 +0800
Subject: [PATCH 28/53] revyos_defconfig: allow usb load by module

---
 arch/riscv/configs/revyos_defconfig | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

diff --git a/arch/riscv/configs/revyos_defconfig b/arch/riscv/configs/revyos_defconfig
index bf50586c6..fb6f0d059 100644
--- a/arch/riscv/configs/revyos_defconfig
+++ b/arch/riscv/configs/revyos_defconfig
@@ -301,16 +301,17 @@ CONFIG_SND_SOC_WM8960=y
 CONFIG_SND_SIMPLE_CARD=y
 CONFIG_SND_AUDIO_GRAPH_CARD=y
 CONFIG_UHID=y
+CONFIG_USB_HID=m
 CONFIG_HID_PID=y
 CONFIG_USB_HIDDEV=y
-CONFIG_USB=y
-CONFIG_USB_XHCI_HCD=y
-CONFIG_USB_XHCI_PLATFORM=y
-CONFIG_USB_OHCI_HCD=y
+CONFIG_USB=m
+CONFIG_USB_XHCI_HCD=m
+CONFIG_USB_XHCI_PLATFORM=m
+CONFIG_USB_OHCI_HCD=m
 CONFIG_USB_ACM=m
-CONFIG_USB_STORAGE=y
-CONFIG_USB_STORAGE_SDDR09=y
-CONFIG_USB_STORAGE_SDDR55=y
+CONFIG_USB_STORAGE=m
+CONFIG_USB_STORAGE_SDDR09=m
+CONFIG_USB_STORAGE_SDDR55=m
 CONFIG_USB_DWC3=m
 CONFIG_USB_DWC3_HOST=y
 # CONFIG_USB_DWC3_OF_SIMPLE is not set
-- 
2.34.1

