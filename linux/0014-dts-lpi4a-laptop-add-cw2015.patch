From 94533e32a6650676115d63232414a494051a58dd Mon Sep 17 00:00:00 2001
From: Lu Hui <luhui@sipeed.com>
Date: Fri, 3 Nov 2023 17:07:35 +0800
Subject: [PATCH 14/53] dts: lpi4a-laptop: add cw2015

---
 arch/riscv/boot/dts/thead/light-lpi4a-console.dts | 13 +++++++++++++
 arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts  |  6 ++++++
 2 files changed, 19 insertions(+)

diff --git a/arch/riscv/boot/dts/thead/light-lpi4a-console.dts b/arch/riscv/boot/dts/thead/light-lpi4a-console.dts
index 4ab4f5a23..19701079c 100644
--- a/arch/riscv/boot/dts/thead/light-lpi4a-console.dts
+++ b/arch/riscv/boot/dts/thead/light-lpi4a-console.dts
@@ -19,3 +19,16 @@ ydx@15 {
 		reg = <0x15>;
 	};
 };
+
+&cw2015 {
+	cellwise,battery-profile = /bits/ 8 <
+		0x17 0x67 0x72 0x68 0x66 0x63 0x62 0x5A
+		0x64 0x61 0x4D 0x57 0x5A 0x51 0x43 0x38
+		0x31 0x2A 0x24 0x22 0x29 0x31 0x3E 0x4C
+		0x29 0x4D 0x0B 0x85 0x1C 0x38 0x47 0x57
+		0x5D 0x5E 0x5F 0x60 0x3F 0x1A 0x6F 0x41
+		0x0A 0x43 0x12 0x38 0x7B 0x95 0x9A 0x18
+		0x4B 0x6F 0x9E 0xD5 0x80 0x57 0x87 0xCB
+		0x2F 0x00 0x64 0xA5 0xB5 0x13 0x54 0xB9
+	>;
+};
diff --git a/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts b/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts
index c9a0682ca..d6a4a0844 100644
--- a/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts
+++ b/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts
@@ -127,6 +127,12 @@ &reg_tp_pwr_en {
 
 &i2c0 {
 	/delete-node/ pcal6408ahk_b;
+
+	cw2015: cw2015@62 {
+		compatible = "cellwise,cw2015";
+		reg = <0x62>;
+		cellwise,monitor-interval-ms = <5000>;
+	};
 };
 
 &i2c3 {
-- 
2.34.1

