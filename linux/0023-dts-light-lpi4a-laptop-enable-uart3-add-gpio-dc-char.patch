From 2f230cafa29737ddfaedb325c902a4b05de5cc72 Mon Sep 17 00:00:00 2001
From: Lu Hui <luhui@sipeed.com>
Date: Thu, 9 Nov 2023 13:54:05 +0800
Subject: [PATCH 23/53] dts: light-lpi4a-laptop: enable uart3, add gpio
 dc-charger

---
 arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

diff --git a/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts b/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts
index 89956b023..ce7a6d7e5 100644
--- a/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts
+++ b/arch/riscv/boot/dts/thead/light-lpi4a-laptop.dts
@@ -79,6 +79,12 @@ audio_amp: regulator-audio-amp-en {
 		enable-active-high;
 		regulator-always-on;
 	};
+
+	charger: dc-charger {
+		compatible = "gpio-charger";
+		charger-type = "mains";
+		gpios = <&gpio0_porta 16 GPIO_ACTIVE_HIGH>;
+	};
 };
 
 &es8156_audio_codec {
@@ -144,6 +150,7 @@ cw2015: cw2015@62 {
 		compatible = "cellwise,cw2015";
 		reg = <0x62>;
 		cellwise,monitor-interval-ms = <5000>;
+		power-supplies = <&charger>;
 	};
 };
 
@@ -181,6 +188,15 @@ lt8911: lt8911@29 {
 	};
 };
 
+&uart3 {
+	clock-frequency = <100000000>;
+	status = "okay";
+};
+
+&spi0 {
+	status = "disabled";
+};
+
 &qspi0 {
 	status = "disabled";
 };
-- 
2.34.1

